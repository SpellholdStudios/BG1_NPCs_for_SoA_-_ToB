BEGIN ~ETBNPC2~

IF ~Global("ETBNPC2","GLOBAL",5)~ THEN BEGIN DEADDRAN
SAY @0
IF ~Dead("7XCRE29") Dead("ACOLYTE1")~ THEN REPLY @1 GOTO DEADDRAN2DeadTalon
IF ~Dead("7XCRE29") !Dead("ACOLYTE1")~ THEN REPLY @1 GOTO DEADDRAN2
IF ~Dead("7XCRE29") Dead("ACOLYTE1")~ THEN REPLY @3 GOTO DEADDRAN2DeadTalon
IF ~Dead("7XCRE29") !Dead("ACOLYTE1")~ THEN REPLY @3 GOTO DEADDRAN2
IF ~~ THEN REPLY @2 EXIT
END

IF ~~ THEN BEGIN DEADDRAN2
SAY @4
IF ~~ THEN DO ~EraseJournalEntry(@1793)AddJournalEntry(@1794,QUEST_DONE)
SetGlobal("ETBNPC2","GLOBAL",4)ReputationInc(2)AddexperienceParty(25000)~ EXIT
END

IF ~~ THEN BEGIN DEADDRAN2DeadTalon
SAY @4
IF ~~ THEN DO ~EraseJournalEntry(@1793)AddJournalEntry(@17941,QUEST_DONE)
SetGlobal("ETBNPC2","GLOBAL",4)ReputationInc(2)AddexperienceParty(25000)~ EXIT
END

IF ~Global("ETBNPC2","GLOBAL",0)!InParty("7XSKI")~ THEN BEGIN Calandra1
   SAY @7
=
@8
IF ~~ THEN GOTO Calandra2
END

IF ~~ THEN BEGIN Calandra2
SAY @9
=
@10
=
@11
=
@12
=
@13
=
@14
IF ~!Dead("ACOLYTE1")~ THEN REPLY @15 GOTO ETBQUEST1
IF ~Dead("ACOLYTE1")~ THEN REPLY @15 GOTO ETBQUEST1DeadTalon
IF ~~ THEN REPLY @16 DO ~SetGlobal("ETBNPC2","GLOBAL",3)~GOTO ChangeMind
IF ~!Dead("ACOLYTE1")~ THEN REPLY @17 GOTO ETBQUEST1
IF ~Dead("ACOLYTE1")~ THEN REPLY @17 GOTO ETBQUEST1DeadTalon
IF ~~ THEN REPLY @18 DO ~SetGlobal("ETBNPC2","GLOBAL",3)~ GOTO ChangeMind
END

IF ~~ THEN BEGIN ChangeMind
SAY @19
=
@20
IF~~ THEN EXIT
END

IF ~~ THEN BEGIN ETBQUEST1
SAY @21
=
@22
=
@23
IF ~~ THEN DO ~AddJournalEntry(@1796,QUEST)SetGlobal("ETBNPC2","GLOBAL",2) 
SetGlobal("ETBQUEST","GLOBAL",1)~ EXIT 
END

IF ~~ THEN BEGIN ETBQUEST1DeadTalon
SAY @107
IF ~~ THEN DO ~AddJournalEntry(@17931,QUEST) RevealAreaOnMap("AR1200") SetGlobal("ETBNPC2","GLOBAL",5)SetGlobal("Draggore","GLOBAL",1) SetGlobal("ETBQUEST","GLOBAL",1)~ EXIT 
END

IF ~Global("ETBNPC2","GLOBAL",3)~ THEN BEGIN Calandra1x
   SAY @24
IF ~!Dead("ACOLYTE1")~ THEN REPLY @25 GOTO ETBQUEST1
IF ~Dead("ACOLYTE1")~ THEN REPLY @25 GOTO ETBQUEST1DeadTalon
IF ~~ THEN REPLY @18 EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,1)~ THEN BEGIN Waterdeep
SAY @27
=
@28
=
@29
=
@30
=
@31
=
@32
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,2)~ THEN BEGIN Waterdeep2
SAY @33
=
@34
=
@35
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,3)~ THEN BEGIN CalandraRandom3
SAY @36
=
@37
=
@38
=
@39
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,4)~ THEN BEGIN CalandraRandom4
SAY @40
=
@41
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,5)~ THEN BEGIN CalandraRandom5
SAY @42
=
@43
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,6)~ THEN BEGIN CalandraRandom6
SAY @44
=
@45
=
@46
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,7)~ THEN BEGIN CalandraRandom7
SAY @47
=
@48
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,8)~ THEN BEGIN CalandraRandom8
SAY @49
=
@50
IF ~~ THEN EXIT
END

IF ~OR(2)Global("ETBNPC2","GLOBAL",2)Global("ETBNPC2","GLOBAL",4)RandomNum(10,9)~ THEN BEGIN CalandraRandom9
SAY @51
IF ~~ THEN EXIT
END

IF ~Global("ETBNPC2","GLOBAL",2)RandomNum(10,10)~ THEN BEGIN CalandraRandom10
SAY @52
=
@53
IF ~~ THEN EXIT
END


APPEND ACOLYTE1
IF ~~ THEN BEGIN NEWREPLY1
SAY @76
=
@77
=
@78
IF ~~ THEN DO ~SetGlobal("ETBQUEST","GLOBAL",99)AddJournalEntry(@1795,QUEST) EraseJournalEntry(@1796)~ EXIT 
END

IF WEIGHT #-10~Global("ETBQUEST","GLOBAL",99)~ THEN BEGIN SUBQUESTDONE
SAY @79
IF ~PartyHasItem("MISC4Y")~ THEN REPLY @80 DO ~EraseJournalEntry(@1795)~ GOTO WHERESDRAN2
IF ~~ THEN REPLY @81 EXIT
END

IF WEIGHT #-10~Global("ETBQUEST","GLOBAL",77)~ THEN BEGIN SUBQUESTDONE1-a
SAY @79
IF ~PartyHasItem("MISC4Y")~ THEN REPLY @80 DO ~SetGlobal("ETBQUEST","GLOBAL",78)EraseJournalEntry(@1795)~ GOTO WHERESDRAN2
IF ~~ THEN REPLY @81 EXIT
END

IF ~~ THEN BEGIN WHERESDRAN2
SAY @82
=
@83
IF ~~ THEN REPLY @84 DO ~SetGlobal("ETBNPC2","GLOBAL",5)SetGlobal("Draggore","GLOBAL",1)~GOTO WHERESDRAN4
IF ~~ THEN REPLY @85 DO ~SetGlobal("ETBNPC2","GLOBAL",5)SetGlobal("Draggore","GLOBAL",1)~GOTO WHERESDRAN3
END

IF ~~ THEN BEGIN WHERESDRAN3
SAY @86
IF ~~ THEN REPLY @84 GOTO WHERESDRAN4
END

IF ~~ THEN BEGIN WHERESDRAN4
SAY @87
IF ~~ THEN DO ~RevealAreaOnMap("AR1200")
AddJournalEntry(@1793,QUEST)
~ EXIT
END
END

APPEND NOBLEM3
IF WEIGHT #-10 ~Global("ETBQUEST","GLOBAL",99)~ THEN BEGIN NOBLEM3-1
SAY @88
IF ~~ THEN REPLY @89 GOTO NOBLEM3-2
IF ~~ THEN REPLY @90 EXIT
IF ~~ THEN REPLY @91 EXIT
END
END

APPEND NOBLEM3
IF ~~ THEN BEGIN NOBLEM3-2
SAY @92
IF ~~ THEN REPLY @93 GOTO NOBLEM3-3
IF ~~ THEN REPLY @94 EXIT
END
END

APPEND NOBLEM3
IF ~~ THEN BEGIN NOBLEM3-3
SAY @95
=
@96
IF ~~ THEN REPLY @97 DO ~SetGlobal("ETBQUEST","GLOBAL",66)~EXIT
IF ~PartyGoldGT("24999")~ THEN REPLY @98 GOTO NOBLEM3-4
END
END

APPEND NOBLEM3
IF ~~ THEN BEGIN NOBLEM3-4
SAY @99
IF ~~ THEN DO ~GiveItemCreate("MISC4Y",PLAYER1,1000,0,0)TakePartyGold("40000")DestroyGold("40000")
SetGlobal("ETBQUEST","GLOBAL",77)~ EXIT
END
END


APPEND NOBLEM3
IF WEIGHT #-10 ~Global("ETBQUEST","GLOBAL",66)~ THEN BEGIN NEWETBQUEST
SAY @103
=
@104
IF ~~ THEN REPLY @97 EXIT
IF ~PartyGoldGT("39999")~ THEN REPLY @98 GOTO NOBLEM3-4
END
END

EXTEND_BOTTOM ACOLYTE1 0 
IF ~Global("ETBQUEST","GLOBAL",1) OR(2) !InParty("7XBRAN") StateCheck("7XBRAN",CD_STATE_NOTVALID)~ THEN REPLY @101 GOTO TalonETBQuest2
END

APPEND ACOLYTE1
IF ~~ THEN BEGIN TalonETBQuest2
SAY @62
=
@63
=
@64
IF ~~ THEN REPLY @65 GOTO TalonETBQuest2c
IF ~~ THEN REPLY @66 GOTO TalonETBQuest2b
END

IF ~~ THEN BEGIN TalonETBQuest2c
SAY @67
IF ~~ THEN GOTO TalonETBQuest2d
END

IF ~~ THEN BEGIN TalonETBQuest2b
SAY @68
IF ~~ THEN GOTO TalonETBQuest2d
END

IF ~~ THEN BEGIN TalonETBQuest2d
SAY @105
=@106
=@72
=@73
IF ~~ THEN REPLY @74 GOTO NEWREPLY1
IF ~~ THEN REPLY @75 DO ~SetGlobal("ETBQUEST","GLOBAL",99)AddJournalEntry(@1795,QUEST)EraseJournalEntry(@1796)~ EXIT
END
END